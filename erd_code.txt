//// -- LEVEL 1
//// -- Tables and References

// Creating tables
Table users as U {
  id int [pk, increment]
  name string
  alias string
  email string
  encrypted_password string
}

Table listings {
  id int [pk]
  condition string
  price int
  user_id int
  card_id int
}

Ref: listings.user_id > U.id

Table colors {
  id int [pk]
  color string
 }
 
Table cards_colors {
  card_id int
  color_id int
 }
 
Ref: cards_colors.color_id > colors.id
Ref: cards_colors.card_id > listings.id

Table addresses {
  id int [pk]
  street_number int
  street string
  suburb string
  city string
  country string
  postcode int
  user_id int
}

Ref: addresses.user_id - users.id

Table cards {
  id int [pk]
  name string
  names array
  manacost int
  cmc int
  colors array
  colorIdentity array
  card_type string
  supertypes array
  types array
  subtypes array
  rarity string
  set string
  text text
  artist string
  number string
  power int
  toughness int
  layout string
  multiverseid int
  imageUrl varchar
  rulings array
  foreignNames array
  printings string
  originalText text
  originalType string
  card_id string
}

Ref: cards.id < listings.card_id

Table transactions {
  id int [pk]
  user_id int
  listing_id int
  purchase_id string
  transaction_date date
}

Ref: transactions.user_id > users.id
Ref: transactions.listing_id - listings.id

Table active_storage_blobs {
  id int [pk]
  key string
  filename string
  content_type string
  metadata hash
  byte_size int
  checksum string
  created_at date
}

Table active_storage_attachments {
  id int [pk]
  name string
  record_type string
  record_id int
  blob_id int
  created_at date
}

Ref: active_storage_attachments.record_id - listings.id
Ref: active_storage_attachments.blob_id - active_storage_blobs.id
Ref: active_storage_attachments.record_id - users.id